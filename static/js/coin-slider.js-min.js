var iscGlobal={};iscGlobal.x=0;iscGlobal.y=0;iscGlobal.c=0;iscGlobal.ct=0;iscGlobal.height=480;iscGlobal.imgCount=1;iscGlobal.current=0;iscGlobal.autoplay=false;iscGlobal.autoplayTimer=3000;$(window).resize(function(){iscGlobal.x=iscGlobal.cObj.offset().left;iscGlobal.y=iscGlobal.cObj.offset().top;iscGlobal.c=iscGlobal.x+(iscGlobal.cObj.width()/2);iscGlobal.ct=iscGlobal.y+(iscGlobal.cObj.height()/2);isc_posCount()});(function(a){a.fn.isc=function(b){if(b.autoplay){iscGlobal.autoplay=true;if(b.autoplayTimer>0){iscGlobal.autoplayTimer=b.autoplayTimer}}iscGlobal.cObj=a(this);iscGlobal.current=0;iscGlobal.imgCount=1;iscGlobal.imagesLength=b.imgArray.length;iscGlobal.cObj.css("overflow","hidden");iscGlobal.cObj.append('<div class="internal_swipe_container"></div>');for(i=0;i<b.imgArray.length;i++){a(".internal_swipe_container").append('<div class="jq_swipe_image" id="swipe_div_'+i+'"><img id="swipe_img_'+i+'" src="'+b.imgArray[i]+'" border="0"></div>');a("#internal_swipe_container").css({width:iscGlobal.cObj.width(),height:iscGlobal.cObj.height(),overflow:"hidden"});a(".jq_swipe_image").css({height:iscGlobal.height+"px","background-color":"#FFF"});a("#swipe_img_"+i).css("visibility","hidden");a("#swipe_img_"+i).load(function(){a(this).parent("div").css({"background-image":"url()","background-color":"inherit"});a(this).css({visibility:"visible",position:"relative"});var d=a(this).width();var f=a(this).height();if(iscGlobal.cObj.width()>iscGlobal.cObj.height()){if(d>f){var h=d/f;a(this).css({width:iscGlobal.cObj.width()+"px",height:Math.round(iscGlobal.cObj.width()*(1/h))});var g=Math.round(iscGlobal.cObj.width()*(1/h));if(g<iscGlobal.cObj.height()){var h=f/d;a(this).css({height:iscGlobal.cObj.height(),width:Math.round(iscGlobal.cObj.height()*(1/h))})}}else{var h=f/d;a(this).css({height:iscGlobal.cObj.height(),width:Math.round(iscGlobal.cObj.height()*(1/h))})}}else{var h=f/d;a(this).css({height:iscGlobal.cObj.height(),width:Math.round(iscGlobal.cObj.height()*(1/h))})}if(a(this).width()>iscGlobal.cObj.width()){var e=(a(this).width()-iscGlobal.cObj.width())/2;a(this).css("left","-"+e+"px")}if(a(this).height()>iscGlobal.cObj.height()){var c=(a(this).height()-iscGlobal.cObj.height())/2;a(this).css("top","-"+c+"px")}})}a(".internal_swipe_container").css("width",(a(this).width()*b.imgArray.length)+"px");a(".jq_swipe_image").css({"float":"left","text-align":"center",overflow:"hidden",width:a(this).width()+"px"});iscGlobal.x=iscGlobal.cObj.offset().left;iscGlobal.y=iscGlobal.cObj.offset().top;iscGlobal.c=iscGlobal.x+(iscGlobal.cObj.width()/2);iscGlobal.ct=iscGlobal.y+(iscGlobal.cObj.height()/2);iscGlobal.cObj.append('<div id="swipe_nav_prev" class="trans"><div></div></div>');iscGlobal.cObj.append('<div id="swipe_nav_next" class="trans"><div></div></div>');a("#swipe_nav_next").bind("click",function(){iscGlobal.autoplay=false;iscGlobal.imgCount++;if(iscGlobal.imgCount==b.imgArray.length){a("#swipe_nav_next").css("display","none")}a(".internal_swipe_container").animate({left:"-="+iscGlobal.cObj.width()},400,function(){iscGlobal.current=iscGlobal.current+1;a("#count_container li").removeClass("current");a("#count_"+iscGlobal.current).addClass("current")})});a("#swipe_nav_prev").bind("click",function(){iscGlobal.autoplay=false;iscGlobal.imgCount--;if(iscGlobal.imgCount==1){a("#swipe_nav_prev").css("display","none")}a(".internal_swipe_container").animate({left:"+="+iscGlobal.cObj.width()},400,function(){iscGlobal.current=iscGlobal.current-1;a("#count_container li").removeClass("current");a("#count_"+iscGlobal.current).addClass("current")})});a("body").append('<ul id="count_container" class="trans"></ul>');for(i=0;i<b.imgArray.length;i++){a("#count_container").append('<li id="count_'+i+'" onclick="isc_jumpTo('+i+');" class="counter"></li>')}a("#count_"+iscGlobal.current).addClass("current");a(".counter").css({width:iscGlobal.cObj.width()/b.imgArray.length+"px"});isc_posCount();a(document).mousemove(function(f){iscGlobal.mX=f.pageX;iscGlobal.mY=f.pageY;var d=iscGlobal.y+(iscGlobal.cObj.outerHeight(true)-6);var c=iscGlobal.x+iscGlobal.cObj.outerWidth(true);if(((iscGlobal.mY>iscGlobal.y)&&(iscGlobal.mY<d))&&((iscGlobal.mX>iscGlobal.x)&&(iscGlobal.mX<c))){if(iscGlobal.mX<iscGlobal.c){if(iscGlobal.imgCount>1){a("#swipe_nav_next").css("display","none");a("#swipe_nav_prev").css({display:"block",height:(iscGlobal.cObj.outerHeight(true)-6)+"px",top:iscGlobal.y+"px",left:iscGlobal.x+"px",width:(iscGlobal.cObj.width()*0.2)+"px"})}}else{if(iscGlobal.mX>iscGlobal.c){if(iscGlobal.imgCount<b.imgArray.length){a("#swipe_nav_prev").css("display","none");a("#swipe_nav_next").css({display:"block",height:(iscGlobal.cObj.outerHeight(true)-6)+"px",top:iscGlobal.y+"px",left:((iscGlobal.x+iscGlobal.cObj.width())-iscGlobal.cObj.width()*0.2)+"px",width:(iscGlobal.cObj.width()*0.2)+"px"})}}}}else{a("#swipe_nav_next,#swipe_nav_prev").css("display","none")}});if(iscGlobal.autoplay){setTimeout("isc_timeJump()",iscGlobal.autoplayTimer)}}})(jQuery);function isc_timeJump(){if(iscGlobal.imgCount==iscGlobal.imagesLength){iscGlobal.imgCount=1;iscGlobal.current=0;var a=(iscGlobal.cObj.width()*iscGlobal.imagesLength)-iscGlobal.cObj.width();$(".internal_swipe_container").animate({left:"+="+a},400,function(){$("#count_container li").removeClass("current");$("#count_"+iscGlobal.current).addClass("current")})}else{iscGlobal.imgCount++;$(".internal_swipe_container").animate({left:"-="+iscGlobal.cObj.width()},400,function(){iscGlobal.current=iscGlobal.current+1;$("#count_container li").removeClass("current");$("#count_"+iscGlobal.current).addClass("current")})}if(iscGlobal.autoplay){setTimeout("isc_timeJump()",iscGlobal.autoplayTimer)}}function isc_jumpTo(a){iscGlobal.autoplay=false;$("#swipe_nav_next,#swipe_nav_prev").css("display","none");if(a>iscGlobal.current){var c=a-iscGlobal.current}else{var c=iscGlobal.current-a}var b=iscGlobal.cObj.width()*c;if(a>=iscGlobal.current){var d="-="}else{var d="+="}iscGlobal.current=a;$(".internal_swipe_container").animate({left:d+b},400,function(){$("#count_container li").removeClass("current");$("#count_"+iscGlobal.current).addClass("current");iscGlobal.imgCount=a+1})}function isc_posCount(){$("#count_container").css({left:iscGlobal.x+"px",top:(iscGlobal.y+iscGlobal.cObj.height()-6)+"px"})};